<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de Parejas</title>
</head>
<body>
    <header>
        <h1>Programa para Generar Parejas</h1>
    </header>

    <h2>Agregar Miembros</h2>
    <input type="text" id="nuevoMiembro" placeholder="Escribe un nombre">
    <button id="agregarMiembro">Agregar miembro</button>

    <h2>Lista de Miembros</h2>
    <ul id="miembros"></ul>

    <button id="generarCombinaciones">Generar Combinaciones</button>

    <h2>Combinaciones de Parejas</h2>
    <ul id="combinaciones"></ul>

    <script>
        const listaMiembros = document.querySelector('#miembros');
        const inputMiembro = document.querySelector('#nuevoMiembro');
        const botonAgregar = document.querySelector('#agregarMiembro');
        const botonGenerarCombinaciones = document.querySelector('#generarCombinaciones');
        const listaCombinaciones = document.querySelector('#combinaciones');

        // Array global para guardar los nombres de los miembros
        let miembros = [];

        // Función para agregar miembro
        botonAgregar.addEventListener('click', () => {
            const nombre = inputMiembro.value.trim();
            if (nombre) {
                miembros.push(nombre);  // Agregar el nuevo miembro al array
                agregarMiembroALaLista(nombre);  // Añadir a la lista visible
                inputMiembro.value = '';  // Limpiar el input
            }
        });

        // Función para agregar un miembro a la lista visual
        function agregarMiembroALaLista(nombre) {
            const li = document.createElement('li');
            const span = document.createElement('span');
            span.textContent = nombre;

            // Botón para eliminar miembro
            const botonEliminar = document.createElement('button');
            botonEliminar.textContent = 'X';
            botonEliminar.addEventListener('click', () => {
                li.remove();
                miembros = miembros.filter(miembro => miembro !== nombre);  // Eliminar del array
            });

        // Botón para editar miembro
        const botonEditar = document.createElement('button');
        botonEditar.textContent = 'Editar';
        botonEditar.addEventListener('click', () => {
            if (botonEditar.textContent === 'Editar') {
                const inputEditar = document.createElement('input');
                inputEditar.type = 'text';
                inputEditar.value = span.textContent;
                li.replaceChild(inputEditar, span);  // Reemplazar el texto con el input
                botonEditar.textContent = 'Guardar';
            } else {
                const nuevoNombre = li.querySelector('input').value.trim();
                if (nuevoNombre) {
                    span.textContent = nuevoNombre;  // Actualizar el nombre en el span
                    miembros[miembros.indexOf(nombre)] = nuevoNombre;  // Actualizar en el array
                    li.replaceChild(span, li.querySelector('input'));  // Reemplazar el input con el span
                    botonEditar.textContent = 'Editar';
                } else {
                    alert('El nombre no puede estar vacío.');
                }
            }
        });


            // Botón para pausar/despausar miembro
            const botonPausar = document.createElement('button');
            botonPausar.textContent = '||'; 
            botonPausar.addEventListener('click', () => {
                span.classList.toggle('pausado');
                botonPausar.textContent = span.classList.contains('pausado') ? '▶' : '||';
            });

            // Añadir elementos al <li>
            li.appendChild(span);
            li.appendChild(botonEditar);
            li.appendChild(botonPausar);
            li.appendChild(botonEliminar);
            listaMiembros.appendChild(li);
        }

        // Función para generar combinaciones de parejas
        botonGenerarCombinaciones.addEventListener('click', () => {
            listaCombinaciones.innerHTML = '';  // Limpiar la lista de combinaciones
            const combinaciones = [];

            // Generar todas las combinaciones posibles de 2 en 2
            for (let i = 0; i < miembros.length; i++) {
                for (let j = i + 1; j < miembros.length; j++) {
                    combinaciones.push([miembros[i], miembros[j]]);
                }
            }

            // Mostrar las combinaciones en la lista
            combinaciones.forEach((pareja, index) => {
                const li = document.createElement('li');
                li.textContent = `Pareja ${index + 1}: ${pareja[0]} y ${pareja[1]}`;
                listaCombinaciones.appendChild(li);
            });
        });
    </script>

    <style>
        .pausado {
            text-decoration: line-through; /* Muestra a los miembros pausados con una línea */
            color: grey; /* Cambia el color a gris */
        }
    </style>
</body>
</html>